(()=>{var e={};e.id=695,e.ids=[695],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},3660:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>o}),t(5058),t(1506),t(5866);var r=t(3191),i=t(8716),n=t(7922),a=t.n(n),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["auth",{children:["debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5058)),"C:\\Users\\HP ELITEBOOK 1030 G3\\williamsholdings\\app\\auth\\debug\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"C:\\Users\\HP ELITEBOOK 1030 G3\\williamsholdings\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\HP ELITEBOOK 1030 G3\\williamsholdings\\app\\auth\\debug\\page.tsx"],u="/auth/debug/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/auth/debug/page",pathname:"/auth/debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8087:(e,s,t)=>{Promise.resolve().then(t.bind(t,3477))},1544:()=>{},9434:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},3477:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(326),i=t(7577),n=t(2945);function a(){let[e,s]=(0,i.useState)(null),[t,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(!0),[u,x]=(0,i.useState)(null);async function h(){try{let e=(0,n.D)(),{data:{user:t},error:r}=await e.auth.getUser();if(r){x(`User error: ${r.message}`),d(!1);return}if(s(t),t){let{data:s,error:r}=await e.from("profiles").select("*").eq("user_id",t.id).single();r?x(`Profile error: ${r.message}`):a(s);let{data:i,error:n}=await e.from("accounts").select("*").eq("user_id",t.id).single();n?x(`Account error: ${n.message}`):c(i)}}catch(e){x(`Unexpected error: ${e}`)}finally{d(!1)}}async function m(){if(e)try{let s=(0,n.D)(),{error:t}=await s.from("profiles").insert({user_id:e.id,first_name:e.email?.split("@")[0]||"User"});t?x(`Profile creation error: ${t.message}`):h()}catch(e){x(`Profile creation failed: ${e}`)}}async function p(){if(e)try{let s=(0,n.D)(),t="ACC"+Math.floor(1e9*Math.random()).toString().padStart(9,"0"),{error:r}=await s.from("accounts").insert({user_id:e.id,account_number:t,available_balance:1e3});r?x(`Account creation error: ${r.message}`):h()}catch(e){x(`Account creation failed: ${e}`)}}return o?r.jsx("div",{className:"p-4",children:"Loading..."}):(0,r.jsxs)("div",{className:"p-4 space-y-4 max-w-2xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Authentication Debug"}),u&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:u}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"User Status"}),e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"User ID:"})," ",e.id]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Email:"})," ",e.email]}),r.jsx("p",{className:"text-green-600",children:"✅ Authenticated"})]}):r.jsx("p",{className:"text-red-600",children:"❌ Not authenticated"})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Profile Status"}),t?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Profile ID:"})," ",t.id]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Name:"})," ",t.first_name]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"PIN Hash:"})," ",t.pin_hash?"✅ Set":"❌ Not set"]}),r.jsx("p",{className:"text-green-600",children:"✅ Profile exists"})]}):(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-yellow-600",children:"⚠️ Profile missing"}),e&&r.jsx("button",{onClick:m,className:"btn btn-primary mt-2",children:"Create Profile"})]})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Account Status"}),l?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Account Number:"})," ",l.account_number]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Balance:"})," $",l.available_balance]}),r.jsx("p",{className:"text-green-600",children:"✅ Account exists"})]}):(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-yellow-600",children:"⚠️ Account missing"}),e&&r.jsx("button",{onClick:p,className:"btn btn-primary mt-2",children:"Create Account"})]})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Actions"}),(0,r.jsxs)("div",{className:"space-x-2",children:[r.jsx("button",{onClick:h,className:"btn btn-ghost",children:"Refresh Data"}),e&&r.jsx("a",{href:"/auth/pin-setup",className:"btn btn-primary",children:"Set PIN"}),!e&&r.jsx("a",{href:"/auth/sign-in",className:"btn btn-primary",children:"Sign In"})]})]})]})]})}},2945:(e,s,t)=>{"use strict";t.d(s,{D:()=>n});var r=t(474);let i=null;function n(){if(i)return i;let e=process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpaWhyb2dxdGlxaGJ3dW5xeGphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxODIyMzgsImV4cCI6MjA3MDc1ODIzOH0.o4o1p3P0a0Kwnmj3TpUNmOtQb2J_p_bV1vhCksc-TKo"??"",s=e=>e.trim().replace(/^['"]+|['"]+$/g,""),t=s("https://ciihrogqtiqhbwunqxja.supabase.co"),n=s(e);if(!t||!n)throw Error("Supabase env vars missing.");return i=(0,r.createBrowserClient)(t,n)}},5058:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>a,__esModule:()=>n,default:()=>l});var r=t(8570);let i=(0,r.createProxy)(String.raw`C:\Users\HP ELITEBOOK 1030 G3\williamsholdings\app\auth\debug\page.tsx`),{__esModule:n,$$typeof:a}=i;i.default;let l=(0,r.createProxy)(String.raw`C:\Users\HP ELITEBOOK 1030 G3\williamsholdings\app\auth\debug\page.tsx#default`)},1506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>a});var r=t(9510);t(7272);let i="WilliamsHoldings",n=process.env.NEXT_PUBLIC_PRIMARY_HEX||"#059669",a={title:i,description:`${i} banking app`};function l({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("link",{rel:"icon",href:"/favicon.ico"}),r.jsx("style",{children:`:root{--brand:${n}}`})]}),r.jsx("body",{children:r.jsx("div",{className:"mx-auto min-h-screen max-w-7xl bg-slate-50 px-4 sm:px-6 lg:px-8",children:e})})]})}},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,471,474],()=>t(3660));module.exports=r})();