(()=>{var e={};e.id=920,e.ids=[920],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},1980:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(8358),s(596),s(1506),s(5866);var r=s(3191),i=s(8716),a=s(7922),n=s.n(a),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8358)),"C:\\Users\\HP ELITEBOOK 1030 G3\\williamsholdings\\app\\admin\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,596)),"C:\\Users\\HP ELITEBOOK 1030 G3\\williamsholdings\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\HP ELITEBOOK 1030 G3\\williamsholdings\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\HP ELITEBOOK 1030 G3\\williamsholdings\\app\\admin\\login\\page.tsx"],u="/admin/login/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8073:(e,t,s)=>{Promise.resolve().then(s.bind(s,3711))},8737:(e,t,s)=>{Promise.resolve().then(s.bind(s,9718))},1544:()=>{},9434:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},3711:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(326),i=s(7577),a=s(5047),n=s(2945);function l({children:e}){let t=(0,a.useRouter)(),s=(0,a.usePathname)(),{checking:l}=function(e=!0){(0,a.useRouter)();let[t,s]=(0,i.useState)(!0);return{checking:t}}(!0);async function o(){try{try{await fetch("/api/admin/logout",{method:"POST"})}catch(e){console.warn("Server logout failed, falling back to client signOut",e)}await (0,n.D)().auth.signOut()}catch(e){console.error("Logout error",e)}t.push("/admin/login")}return s&&s.includes("/admin/login")?r.jsx("div",{className:"min-h-screen bg-gray-100",children:r.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"WilliamsHoldings Admin"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("nav",{className:"flex space-x-4",children:[r.jsx("a",{href:"/admin/dashboard",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),r.jsx("a",{href:"/admin/users",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Users"}),r.jsx("a",{href:"/admin/accounts",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Accounts"}),r.jsx("a",{href:"/admin/transactions",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Transactions"}),r.jsx("a",{href:"/admin/settings",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Settings"})]}),r.jsx("button",{onClick:o,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Logout"})]})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e})]})}},9718:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(326),i=s(7577),a=s(5047),n=s(2945);function l(){let[e,t]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[o,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),m=(0,a.useRouter)();async function x(t){t.preventDefault(),d(!0),u("");try{let{data:t,error:r}=await (0,n.D)().auth.signInWithPassword({email:e,password:s});if(r){u(r.message);return}if(t.user){let{data:e,error:s}=await (0,n.D)().from("profiles").select("role").eq("user_id",t.user.id).single();if(s||!e||"admin"!==e.role){u("Access denied. Admin privileges required."),await (0,n.D)().auth.signOut();return}m.push("/admin/dashboard")}}catch(e){u(e.message||"Login failed")}finally{d(!1)}}return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Login"}),r.jsx("p",{className:"text-blue-200",children:"WilliamsHoldings Banking System"})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[(0,r.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[c&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3 text-red-200 text-sm",children:c}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Admin Email"}),r.jsx("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@williamsholdings.com",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),r.jsx("input",{type:"password",value:s,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter admin password",required:!0})]}),r.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("a",{href:"/",className:"text-blue-300 hover:text-blue-200 text-sm",children:"â† Back to main site"})})]})]})})}},2945:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(474);let i=null;function a(){if(i)return i;let e="https://ciihrogqtiqhbwunqxja.supabase.co",t=process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpaWhyb2dxdGlxaGJ3dW5xeGphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxODIyMzgsImV4cCI6MjA3MDc1ODIzOH0.o4o1p3P0a0Kwnmj3TpUNmOtQb2J_p_bV1vhCksc-TKo";if(!e||!t)throw Error("Supabase env vars missing.");return i=(0,r.createBrowserClient)(e,t)}},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},596:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});var r=s(8570);let i=(0,r.createProxy)(String.raw`C:\Users\HP ELITEBOOK 1030 G3\williamsholdings\app\admin\layout.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let l=(0,r.createProxy)(String.raw`C:\Users\HP ELITEBOOK 1030 G3\williamsholdings\app\admin\layout.tsx#default`)},8358:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});var r=s(8570);let i=(0,r.createProxy)(String.raw`C:\Users\HP ELITEBOOK 1030 G3\williamsholdings\app\admin\login\page.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let l=(0,r.createProxy)(String.raw`C:\Users\HP ELITEBOOK 1030 G3\williamsholdings\app\admin\login\page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var r=s(9510);s(7272);let i="WilliamsHoldings",a=process.env.NEXT_PUBLIC_PRIMARY_HEX||"#059669",n={title:i,description:`${i} banking app`};function l({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("link",{rel:"icon",href:"/favicon.ico"}),r.jsx("style",{children:`:root{--brand:${a}}`})]}),r.jsx("body",{children:r.jsx("div",{className:"mx-auto min-h-screen max-w-7xl bg-slate-50 px-4 sm:px-6 lg:px-8",children:e})})]})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,471,474],()=>s(1980));module.exports=r})();