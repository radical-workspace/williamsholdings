(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{5405:function(e,t,r){Promise.resolve().then(r.bind(r,3377))},3377:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(7437),i=r(2265),n=r(6463),a=r(6474);function l(){let[e,t]=(0,i.useState)(""),[r,l]=(0,i.useState)(""),[o,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),m=(0,n.useRouter)();async function h(t){t.preventDefault(),u(!0),d("");try{let{data:t,error:s}=await (0,a.D)().auth.signInWithPassword({email:e,password:r});if(s){d(s.message);return}if(t.user){let{data:e,error:r}=await (0,a.D)().from("profiles").select("role").eq("user_id",t.user.id).single();if(r||!e||"admin"!==e.role){d("Access denied. Admin privileges required."),await (0,a.D)().auth.signOut();return}m.push("/admin/dashboard")}}catch(e){d(e.message||"Login failed")}finally{u(!1)}}return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Login"}),(0,s.jsx)("p",{className:"text-blue-200",children:"WilliamsHoldings Banking System"})]}),(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[(0,s.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[c&&(0,s.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3 text-red-200 text-sm",children:c}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Admin Email"}),(0,s.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@williamsholdings.com",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter admin password",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("a",{href:"/",className:"text-blue-300 hover:text-blue-200 text-sm",children:"â† Back to main site"})})]})]})})}},6474:function(e,t,r){"use strict";r.d(t,{D:function(){return a}});var s=r(9851),i=r(357);let n=null;function a(){var e,t;if(n)return n;let r=null!==(t=null!==(e=i.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY)&&void 0!==e?e:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpaWhyb2dxdGlxaGJ3dW5xeGphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxODIyMzgsImV4cCI6MjA3MDc1ODIzOH0.o4o1p3P0a0Kwnmj3TpUNmOtQb2J_p_bV1vhCksc-TKo")&&void 0!==t?t:"",a=e=>e.trim().replace(/^['"]+|['"]+$/g,""),l=a("https://ciihrogqtiqhbwunqxja.supabase.co"),o=a(r);if(!l||!o)throw Error("Supabase env vars missing.");return n=(0,s.createBrowserClient)(l,o)}},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[851,971,23,744],function(){return e(e.s=5405)}),_N_E=e.O()}]);